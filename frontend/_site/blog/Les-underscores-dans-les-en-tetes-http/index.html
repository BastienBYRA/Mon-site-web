<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/article/index.css">
    <title>Les underscores dans les en-tÃªtes HTTP</title>
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <meta name="author" content="Bastien Byra" />
    <meta name="robots" content="index, follow">
    <meta name="description" content="Un court article sur l&#39;utilisation des underscores dans les en-tÃªtes HTTP">
    <meta name="keywords" content="Tech, Web server, NGINX, Apache, HTTP Header, En-tete HTTP, underscore http header, Devops">
    
    <meta property="og:image" content="../../assets/blog/Les-underscores-dans-les-en-tetes-http/header-main.png" />
    <meta property="og:description" content="Un court article sur l&#39;utilisation des underscores dans les en-tÃªtes HTTP"/>
    <meta property="og:title" content="Les underscores dans les en-tÃªtes HTTP" />
    <script src="/javascript/script.js" refferer></script>
    
    <link
			href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css"
			rel="stylesheet"
		/>

    <script data-goatcounter="https://bastienbyra.goatcounter.com/count"
        async src="//gc.zgo.at/count.js">
    </script>
    
  </head>
  <body>
    <div class="container">
      <header>
    <div class="header-main">
        <a href="/" class="header-main-link">
            Bastien Byra
        </a>
        <div class="header-right">
            <a href="/">Blog</a>
            <a href="/a-propos">A propos</a>
        </div>
        <svg id="toggle-menu-header" class="mobile-header-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-menu-2" height="44" width="44">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <line x1="4" y1="6" x2="20" y2="6" />
            <line x1="4" y1="12" x2="20" y2="12" />
            <line x1="4" y1="18" x2="20" y2="18" />
        </svg>
    </div>
    <div class="toggle-receiver-header header-mobile-row-invisible">
        <a href="/">Blog</a>
        <a href="/a-propos" class="last-link">A propos</a>
    </div>
    
</header>
      <div class="layout-border">
      
    <div class="article-container">
        <img class="article-image" src="../../assets/blog/Les-underscores-dans-les-en-tetes-http/header-main.png" alt="" />

        <div class="article-intro">
            <p class="article-date">7 SEPTEMBRE 2024 | TECH, WEB SERVER</p>
            <h1 class="article-title">Les underscores dans les en-tÃªtes HTTP</h1>
            <p class="article-description">Un court article sur l&#39;utilisation des underscores dans les en-tÃªtes HTTP</p>
        </div>
        
        <div class="article-content">
            <h2 id="les-underscores-dans-les-en-t%C3%AAtes-http" tabindex="-1">Les underscores dans les en-tÃªtes HTTP</h2>
<p>Les en-tÃªtes HTTP sont des choses auxquelles je trouve quâ€™on ne prÃªte pas particuliÃ¨rement attention, et ce mÃªme malgrÃ© leur importance dans notre consommation du Web.</p>
<p>Ce serait un sujet intÃ©ressant Ã  aborder dans un article dÃ©diÃ©, mais ce n'est pas le cas de cet article.</p>
<p>Je veux parler de quelque chose de plus prÃ©cis : <strong>les underscores dans les en-tÃªtes HTTP.</strong></p>
<p>Coupons le suspense court, vous nâ€™en verrez quasiment jamais dans vos requÃªtes.</p>
<p>C'est quelque chose auquel je n'avais jamais fait attention, mais si vous regardez les en-tÃªtes HTTP que vous envoyez et recevez dans votre navigateur, il y a de fortes chances qu'aucune ne soit composÃ©e d'underscore.</p>
<p>Le <a href="https://datatracker.ietf.org/doc/html/rfc822">RFC 822</a> a standardisÃ© la faÃ§on dont sont Ã©crits les en-tÃªtes, leur forme Ã©tant dÃ©sormais un ou plusieurs mots sÃ©parÃ©s par des tirets <em>(e.g : Ma-Super-En-Tete)</em>.</p>
<p>Plus d'informations sur comment Ã©crire une en-tÃªte HTTP dans la section 3.2. HEADER FIELD DEFINITION du <a href="https://datatracker.ietf.org/doc/html/rfc822#section-3.2">RFC 822</a>.</p>
<blockquote>
<p><strong>Note :</strong></p>
<p>Un RFC (Request for comments) est un document qui dÃ©crit les aspects, spÃ©cifications et / ou normes techniques d'un projet / protocole liÃ© au web.</p>
</blockquote>
<p>Revenons Ã  notre sujet : est-il interdit d'utiliser des underscores dans des en-tÃªtes ? D'aprÃ¨s le RFC, rien n'interdit leur utilisation dans les en-tÃªtes. Il est donc parfaitement possible d'en utiliser.</p>
<p>Cependant ! Car il y a mais, ce qu'il faut savoir, c'est que certains serveurs web (comme Nginx et Apache) n'acceptent pas les en-tÃªtes avec des underscores par dÃ©faut pour des raisons qui leur sont propres. Dans le cas d'Apache et NGINX, Ã§a ne va pas causer de crash du serveur ni remonter d'erreurs, mais elles ne seront pas transfÃ©rÃ©es avec les autres en-tÃªtes.</p>
<p>Les deux serveurs web offrent diffÃ©rentes solutions pour rÃ©soudre ce problÃ¨me : NGINX en <a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#underscores_in_headers">ajoutant un paramÃ¨tre dans sa configuration</a> et Apache en <a href="https://httpd.apache.org/docs/trunk/env.html#fixheader">transformant les en-tÃªtes pour remplacer ses underscores par des tirets</a>.</p>
<p>D'autres serveurs web comme Caddy acceptent par dÃ©faut les en-tÃªtes avec underscore.</p>
<h3>TL;DR :</h3>
<p>Faites attention aux en-tÃªtes HTTP que vous envoyez et recevez sur votre serveur, Ã§a vous Ã©vitera des heures de dÃ©bogage pour un problÃ¨me stupide d'underscore ğŸ˜‰</p>
<blockquote>
<p><strong>Bonus :</strong></p>
<p>En lisant rapidement le RFC 822, jâ€™ai voulu tester l'ajout de points dâ€™exclamation (<code>!</code>) dans mes en-tÃªtes, et Ã§a fonctionne ! Mais pas les points dâ€™interrogation (<code>?</code>)â€¦</p>
<p>Pourquoi ? Parce quâ€™il en a Ã©tÃ© dÃ©cidÃ© ainsi. Je ne sais pas quoi faire de cette information, donc il est absolument essentiel que je vous la partage pour que vous puissiez vous aussi mÃ©diter sur cette question ğŸ‘.</p>
</blockquote>

        </div>

        <hr>
        
        <div class="article-end">
            <p>Merci d'avoir lu cet article, n'hÃ©sitez pas Ã  jeter un coup d'oeil aux autres articles.</p>
            <a class="link-to-articles" href="https://bastienbyra.fr/">Mes autres articles.</a>
            <div class="article-social-network">
                <p>par <span class="blueviolet">Bastien BYRA</span></p>
                <div class="article-network-image">
                    <a href="https://github.com/BastienBYRA">
                        <img src="/assets/social_network/Github.png" alt="Logo de Github" />
                    </a>
                    <a href="https://www.linkedin.com/in/bastien-byra-848998209/">
                        <img src="/assets/social_network/Linkedin.png" alt="Logo de Linkedin" />
                    </a>
                </div>
            </div>
        </div>
    </div>

      </div>
    </div>
  </body>
</html>